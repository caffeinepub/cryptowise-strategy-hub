{
  "kind": "build_request",
  "title": "Fix Failed to Fetch Error",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Investigate and resolve the 'Failed to fetch' error occurring in the application by checking network requests, API endpoint availability, CORS configuration, and error handling in the CoinGecko service and React Query hooks",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "fix it Failed to fetch"
        ]
      },
      "acceptanceCriteria": [
        "The 'Failed to fetch' error no longer appears in the application",
        "All API requests to CoinGecko complete successfully or show appropriate user-friendly error messages",
        "Network errors are properly caught and displayed to the user with actionable feedback"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add error boundary components and improve error handling in useCoinGecko hooks to gracefully handle network failures and display user-friendly error messages instead of generic fetch failures",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ]
      },
      "acceptanceCriteria": [
        "Network errors display helpful messages like 'Unable to connect to cryptocurrency data service. Please check your internet connection.'",
        "Failed API requests show retry buttons where appropriate",
        "Loading states properly transition to error states when requests fail"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Verify that the backend actor connections are functioning correctly and that Internet Identity authentication is not causing fetch failures in useActor hook",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-latest"
        ]
      },
      "acceptanceCriteria": [
        "Backend actor methods respond successfully when called from the frontend",
        "Authentication state does not block legitimate API requests",
        "Console logs show successful actor initialization without errors"
      ]
    }
  ],
  "constraints": [
    "Do not modify the immutable frontend paths: useInternetIdentity.ts, useInternetIdentity.tsx, useActor.ts, main.tsx, and components/ui",
    "Maintain single-actor architecture in backend/main.mo",
    "Preserve existing CoinGecko API integration and rate limiting logic"
  ],
  "nonGoals": [
    "Complete rewrite of the networking layer",
    "Migration to a different cryptocurrency data provider",
    "Changes to the calculator logic or UI layout"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}